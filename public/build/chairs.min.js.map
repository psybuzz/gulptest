{"version":3,"sources":["ChairsScene.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chairs.min.js","sourcesContent":["var ChairsScene = function(){\r\n\r\n    // Camera setup.\r\n    var w = window.innerWidth, h = window.innerHeight;\r\n    var camera = this.camera = new THREE.PerspectiveCamera(75, w/h, 0.1, 1000);\r\n    camera.position.set(0, 2, 50);\r\n    camera.lookAt(new THREE.Vector3());\r\n    var controls = new THREE.OrbitControls(camera);\r\n\r\n    // Scene setup.\r\n    var scene = this.scene = new THREE.Group();\r\n    this.THREEScene = new THREE.Scene();\r\n    this.THREEScene.add(scene);\r\n    this.THREEScene.fog = new THREE.FogExp2(0x000000, 0.005);\r\n    this.THREEScene.fog = new THREE.FogExp2(0xffffff, 0.03);\r\n\r\n    // Lighting.\r\n    var ambient_light = new THREE.AmbientLight( 0xa26236 );\r\n    scene.add(ambient_light);\r\n\r\n    var light = this.light = new THREE.PointLight( 0xa26236, 4, 100 );\r\n    light.position.set(0, 3, 0);\r\n    scene.add(light);\r\n\r\n    var light2 = this.light2 = new THREE.PointLight( 0xffffff, 0.8, 100 );\r\n    light2.position.set(1, 1, 10);\r\n    scene.add(light2);\r\n\r\n\r\n    // Make chair.\r\n    // var areaw = 400, aread = 400;\r\n    var areaw = 100, aread = 100;\r\n    var chairN = 220;\r\n    var chairs = this.chairs = [];\r\n    var areah = this.areah = 450;\r\n    for (var i=0; i<chairN; i++) {\r\n        var chair = new ChairModel();\r\n        var cx = Math.random()*areaw - areaw/2;\r\n        // var cy = Math.random()*10 + 5;\r\n        var cy = Math.random()*areah;\r\n        var cz = Math.random()*aread - aread/2;\r\n        chair.position.set(cx, cy, cz);\r\n        var rx = Math.random()*Math.PI*2;\r\n        var ry = Math.random()*Math.PI*2;\r\n        var rz = Math.random()*Math.PI*2;\r\n        chair.rotation.set(rx, ry, rz);\r\n\r\n        chairs.push(chair);\r\n        scene.add(chair);\r\n    }\r\n\r\n    this.names = document.getElementById('names');\r\n    this.names.y = 0;\r\n};\r\n\r\nChairsScene.prototype = {\r\n    open: function (){\r\n\r\n    },\r\n\r\n    update: function (time, dt){\r\n        // Modify time if space is pressed\r\n        if (!Key.anyDown())\r\n            dt *= 0.1;\r\n\r\n        this.chairs.forEach((chair) => {\r\n            chair.rotation.x += dt*0.0005;\r\n            chair.rotation.y += dt*0.0005;\r\n            chair.rotation.z += dt*0.0005;\r\n            chair.position.y -= dt*0.08;\r\n            if (chair.position.y < -this.areah/2)\r\n                chair.position.y = this.areah/2;\r\n        });\r\n\r\n        this.names.y += dt*0.5;\r\n        if (this.names.y > window.innerHeight) {\r\n            this.names.y = -190;\r\n            this.names.classList.toggle('flipped');\r\n        }\r\n        names.style.transform = 'translateY(' + Math.floor(this.names.y) + 'px)';\r\n    }\r\n};\r\n","// Start the main application.\r\nvar app = new Application({\r\n\tcanvasView: CanvasView,\r\n\tsceneManager: SceneManager\r\n});\r\n\r\napp.sceneManager.registerScene('chairs', new ChairsScene());\r\napp.sceneManager.loadScene('chairs').play();"],"sourceRoot":"/source/"}